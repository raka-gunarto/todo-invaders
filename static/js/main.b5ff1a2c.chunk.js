(this["webpackJsonptodo-invaders"]=this["webpackJsonptodo-invaders"]||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),c=n(7),i=n.n(c),s=(n(13),n(2)),r=n(3),d=n.n(r),l=n(8),u=n(4),p=n.n(u),f=n.p+"static/media/invader.52b2ab26.svg",_=n.p+"static/media/invader2.20e4105d.svg",j=n(0);function O(t){var e=t.numdays,n=Object(a.useState)([]),c=Object(s.a)(n,2),i=c[0],r=c[1],d=Object(a.useState)([]),l=Object(s.a)(d,2),u=l[0],_=l[1],O=Object(a.useState)(null),b=Object(s.a)(O,2),m=b[0],h=b[1],g=function(t,e){t.target.onanimationend=function(){i.splice(i.indexOf(e),1),r(i),localStorage.setItem("todos",JSON.stringify(i))},t.target.classList.add(p.a.explode)},x=Object(a.useState)(!1),w=Object(s.a)(x,2),y=w[0],S=w[1],D=Object(a.useState)(0),A=Object(s.a)(D,2),N=A[0],I=A[1];return Object(a.useEffect)((function(){m&&clearInterval(m),_(v(i,e,g)),h(setInterval((function(){_(v(i,e,g))}),1e3))}),[i]),Object(a.useEffect)((function(){return r(JSON.parse(localStorage.getItem("todos"))||[])})),Object(j.jsxs)(o.a.Fragment,{children:[Object(j.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"8rem"},onMouseMove:function(t){return function(t){S(!0),I((t.pageX-80)/window.innerWidth*100)}(t)},onMouseLeave:function(){return S(!1)},onClick:function(){var t=window.prompt("TODO Title"),e=window.prompt("TODO Description"),n=Date.parse(window.prompt("TODO Due Date","yyyy-mm-dd"))||null;if(!n)return window.alert("Invalid Date!");i.push({title:t,description:e,duedate:n,offset:N}),r(i),localStorage.setItem("todos",JSON.stringify(i))},children:Object(j.jsx)("figure",{style:{transform:"translateX(".concat(N,"vw)"),opacity:.5},hidden:!y,className:"".concat(p.a.invader," ").concat(p.a.ghost),children:Object(j.jsx)("img",{src:f})})}),Object(j.jsx)("div",{className:p.a.todocontainer,children:u})]})}function v(t,e,n){for(var a=[],o=0;o<e;++o){var c,i=[],s=Date.now(),r=e-o,d=Object(l.a)(t);try{var u=function(){var t=c.value,a=Math.ceil((t.duedate-s)/864e5);if(a==r||r==e&&a>=r){var o=a==r?(t.duedate-s)/864e5%1*-3:-6;i.push(Object(j.jsxs)("figure",{style:{transform:"translateY(".concat(o,"rem) translateX(").concat(t.offset,"vw)")},className:p.a.invader,onClick:function(e){return n(e,t)},children:[Object(j.jsx)("img",{src:(new Date).getSeconds()%2==0?f:_}),Object(j.jsxs)("span",{className:p.a.description,children:[t.description,Object(j.jsx)("br",{}),"Due: ".concat(new Date(t.duedate).toDateString())]}),Object(j.jsx)("figcaption",{children:t.title})]}))}};for(d.s();!(c=d.n()).done;)u()}catch(O){d.e(O)}finally{d.f()}a.push(Object(j.jsxs)("div",{className:p.a.daysrow,children:[e-o,e-o==e?"+":""," day",e-o>1?"s":""," left",i]}))}return a}var b=n.p+"static/media/turret.739cfa2c.svg";function m(){var t=Object(a.useState)(null),e=Object(s.a)(t,2),n=e[0],o=e[1];console.log(d.a);return Object(j.jsxs)("div",{className:d.a.container,onMouseMove:function(t){if(null!=n){var e=n.getBoundingClientRect(),a=e.left+e.width/2,o=e.top+e.height/2;n.style.transform="rotate(".concat(Math.atan2(t.clientY-o,t.clientX-a)+Math.PI/2,"rad)")}},onClick:function(){null!=n&&n.classList.add(d.a.shoot)},children:[Object(j.jsx)("main",{className:d.a.main,children:Object(j.jsx)(O,{numdays:14})}),Object(j.jsx)("footer",{className:d.a.footer,children:Object(j.jsx)("img",{src:b,alt:"Turret",className:d.a.turret,onAnimationEnd:function(){null!=n&&n.classList.remove(d.a.shoot)},ref:function(t){o(t)}})})]})}i.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root"))},3:function(t,e,n){t.exports={container:"App_container__1MQN3",main:"App_main__3ZkGI",footer:"App_footer__29Fsv",title:"App_title__-GfWs",description:"App_description__1hmAY",code:"App_code__2uyOK",grid:"App_grid__3DnSg",card:"App_card__3tefE",turret:"App_turret__28OKa",shoot:"App_shoot__3uOIK",pew:"App_pew__2ssJ3"}},4:function(t,e,n){t.exports={todocontainer:"todo-invaders_todocontainer__1XSqn",daysrow:"todo-invaders_daysrow__1SB4l",invader:"todo-invaders_invader__2xbdL",ghost:"todo-invaders_ghost__238J0",description:"todo-invaders_description__cn2V0",explode:"todo-invaders_explode__2b-SQ",boom:"todo-invaders_boom__1C88F"}}},[[15,1,2]]]);
//# sourceMappingURL=main.b5ff1a2c.chunk.js.map